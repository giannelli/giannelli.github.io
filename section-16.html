<!DOCTYPE html>
<!--**************************************-->
<!--* Generated from MathBook XML source *-->
<!--*    on 2017-02-02T20:56:03Z    *-->
<!--*                                    *-->
<!--*   http://mathbook.pugetsound.edu   *-->
<!--*                                    *-->
<!--**************************************-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>JAG A1</title>
<meta name="Keywords" content="Authored in MathBook XML">
<meta name="viewport" content="width=device-width,  initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<script type="text/javascript" src="https://sagecell.sagemath.org/static/jquery.min.js"></script><script type="text/x-mathjax-config">
// contrib directory for accessibility menu, moot after v2.6+?
MathJax.Ajax.config.path["Contrib"] = "https://cdn.mathjax.org/mathjax/contrib";
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['\\(','\\)']],
    },
    TeX: {
        // [Contrib]accessibility menu moot after v2.6+?
        extensions: ["AMSmath.js", "AMSsymbols.js", "extpfeil.js", "autobold.js", "https://aimath.org/mathbook/mathjaxknowl.js", "[Contrib]/a11y/accessibility-menu.js", ],
        equationNumbers: { autoNumber: "none",
                           useLabelIds: true,
                           // JS comment, XML CDATA protect XHTML quality of file
                           // if removed in XSL, use entities
                           //<![CDATA[
                           formatID: function (n) {return String(n).replace(/[:'"<>&]/g,"")},
                           //]]>
                         },
        TagSide: "right",
        TagIndent: ".8em",
    },
    "HTML-CSS": {
        scale: 88,
    },
});
    </script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full"></script><script type="text/javascript" src="https://sagecell.sagemath.org/embedded_sagecell.js"></script><script>$(function () {
    // Make *any* div with class 'sagecell-sage' an executable Sage cell
    // Their results will be linked, only within language type
    sagecell.makeSagecell({inputLocation: 'div.sagecell-sage',
                           linked: true,
                           languages: ['sage'],
                           evalButtonText: 'Evaluate Sage Code'});
});
</script><link href="https://aimath.org/knowlstyle.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="https://aimath.org/knowl.js"></script><script src="https://aimath.org/mathbook/js/lib/jquery.sticky.js"></script><script src="https://aimath.org/mathbook/js/lib/jquery.espy.min.js"></script><script src="https://aimath.org/mathbook/js/Mathbook.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link href="https://aimath.org/mathbook/stylesheets/mathbook-3.css" rel="stylesheet" type="text/css">
<link href="https://aimath.org/mathbook/mathbook-add-on.css" rel="stylesheet" type="text/css">
<link href="jagbook.css" rel="stylesheet" type="text/css">
</head>
<body class="mathbook-book has-toc has-sidebar-left">
<a class="assistive" href="#content">Skip to main content</a><div style="display:none;">\(\newcommand{\Z}{\mathbb{Z}}
\newcommand{\reals}{\mathbb{R}}
\newcommand{\real}[1]{\mathbb{R}^{#1}}
\newcommand{\fe}[2]{#1\mathopen{}\left(#2\right)\mathclose{}}
\newcommand{\cinterval}[2]{\left[#1,#2\right]}
\newcommand{\ointerval}[2]{\left(#1,#2\right)}
\newcommand{\cointerval}[2]{\left[\left.#1,#2\right)\right.}
\newcommand{\ocinterval}[2]{\left(\left.#1,#2\right]\right.}
\newcommand{\point}[2]{\left(#1,#2\right)}
\newcommand{\fd}[1]{#1'}
\newcommand{\sd}[1]{#1''}
\newcommand{\td}[1]{#1'''}
\newcommand{\lz}[2]{\frac{d#1}{d#2}}
\newcommand{\lzn}[3]{\frac{d^{#1}#2}{d#3^{#1}}}
\newcommand{\lzo}[1]{\frac{d}{d#1}}
\newcommand{\lzoo}[2]{{\frac{d}{d#1}}{\left(#2\right)}}
\newcommand{\lzon}[2]{\frac{d^{#1}}{d#2^{#1}}}
\newcommand{\lzoa}[3]{\left.{\frac{d#1}{d#2}}\right|_{#3}}
\newcommand{\abs}[1]{\left|#1\right|}
\newcommand{\sech}{\operatorname{sech}}
\newcommand{\csch}{\operatorname{csch}}
\newcommand \dd[1]  { \,\textrm d{#1}                       }   
\newcommand \de[2]  { \frac{\mathrm d{#1}}{\mathrm d{#2}}   }   
\newcommand \intl[4]{ \int\limits_{#1}^{#2}{#3}\dd{#4}      }   
\newcommand{\lt}{ &lt; }
\newcommand{\gt}{ &gt; }
\newcommand{\amp}{ &amp; }
\)</div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<a id="logo-link" href="https://github.com/giannelli" target="_blank"><img src="images/jg.jpeg"></a><div class="title-container">
<h1 class="heading"><a href="index.html"><span class="title">John Giannelli</span><span class="subtitle">Musings on Sage Math</span></a></h1>
<p class="byline"></p>
</div>
</div></div>
<nav id="primary-navbar"><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active" onclick="window.location.href='index.html'">Contents</button><div class="tree-nav toolbar toolbar-divisor-3">
<a class="index-button toolbar-item button" href="index-part-1.html" title="Index" alt="Index">Index</a><span class="threebuttons"><a class="previous-button toolbar-item button" href="linear-algebra-exam.html" title="Previous" alt="Previous">Prev</a><a class="up-button button toolbar-item" href="linear-algebra-exam.html" title="Up" alt="Up">Up</a><a class="next-button button toolbar-item" href="section-17.html" title="Next" alt="Next">Next</a></span>
</div>
<button class="sidebar-right-toggle-button button active">Annotations</button>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Contents</button><a class="previous-button toolbar-item button" href="linear-algebra-exam.html" title="Previous" alt="Previous">Prev</a><a class="up-button button toolbar-item" href="linear-algebra-exam.html" title="Up" alt="Up">Up</a><a class="next-button button toolbar-item" href="section-17.html" title="Next" alt="Next">Next</a>
</div>
</div></nav></header><div class="page">
<aside id="sidebar-left" class="sidebar"><div class="sidebar-content">
<nav id="toc"><h2 class="link"><a href="frontmatter.html"><span class="title">Front Matter</span></a></h2>
<ul>
<li><a href="biography-1.html">About John A Giannelli</a></li>
<li><a href="dedication-1.html">Dedication</a></li>
<li><a href="acknowledgement-1.html">Acknowledgements</a></li>
<li><a href="preface-1.html">Preface</a></li>
</ul>
<h2 class="link"><a href="sets.html"><span class="codenumber">1</span><span class="title">Quick Guide to Using SageMath</span></a></h2>
<ul>
<li><a href="sage-online.html">SageMath Online</a></li>
<li><a href="section-2.html">Running From Source</a></li>
</ul>
<h2 class="link"><a href="basics.html"><span class="codenumber">2</span><span class="title">Basic Sage Commands</span></a></h2>
<ul>
<li><a href="section-3.html">Executing Sage Commands</a></li>
<li><a href="section-4.html">How to define functions</a></li>
<li><a href="section-5.html">Symbolic Manipulation</a></li>
<li><a href="section-6.html">Declaring Variables and Plotting</a></li>
<li><a href="section-7.html">Sage and Python</a></li>
</ul>
<h2 class="link"><a href="integers.html"><span class="codenumber">3</span><span class="title">Calculus</span></a></h2>
<ul>
<li><a href="calculus-limits.html">Calculating Limits</a></li>
<li><a href="calculus-derivatives.html">Derivatives</a></li>
<li><a href="calculus-integration.html">Integration</a></li>
<li><a href="integers-sage.html">Sage</a></li>
<li><a href="introduction-first-derivative-supplementary-exercises.html">CAP 2017, HW 2 due January 31</a></li>
<li><a href="references-1.html">References</a></li>
</ul>
<h2 class="link"><a href="differential.html"><span class="codenumber">4</span><span class="title">Differential Equations</span></a></h2>
<ul>
<li><a href="first-order-de.html">First Order Differential Equations</a></li>
<li><a href="second-order-de.html">Second Order Differential Equations</a></li>
<li><a href="system-of-de.html">Systems Of Equations</a></li>
<li><a href="exercises-de.html">Exercises</a></li>
<li><a href="references-2.html">References (places I plagiarized)</a></li>
</ul>
<h2 class="link active"><a href="linear-algebra-exam.html"><span class="codenumber">5</span><span class="title">Linear Algebra</span></a></h2>
<ul>
<li><a href="section-16.html" class="active">A1</a></li>
<li><a href="section-17.html">A2</a></li>
<li><a href="section-18.html">A3</a></li>
<li><a href="section-product-rule.html">The Product Rule</a></li>
</ul>
<h2 class="link"><a href="backmatter.html"><span class="title">Back Matter</span></a></h2>
<ul>
<li><a href="appendix-1.html">Notation</a></li>
<li><a href="appendix-2.html">Hints and Solutions to Selected Exercises</a></li>
<li><a href="appendix-gfdl.html">GNU Free Documentation License</a></li>
<li><a href="index-part-1.html">Index</a></li>
<li><a href="colophon-1.html">Colophon</a></li>
</ul></nav><div class="extras"><nav><a class="mathbook-link" href="https://mathbook.pugetsound.edu">Authored in MathBook XML</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://cdn.mathjax.org/mathjax/badge/badge.gif" border="0" alt="Powered by MathJax"></a></nav></div>
</div></aside><main class="main"><div id="content" class="mathbook-content"><section class="section" id="section-16"><header title="Section 5.1 A1"><h1 class="heading hide-type" alt="Section 5.1 A1">
<span class="type">Section</span><span class="codenumber">5.1</span><span class="title">A1</span>
</h1></header><article class="example-like" id="exam_a1"><h5 class="heading">
<span class="type">Example</span><span class="codenumber">5.1.1</span>
</h5>
<p id="p-261">
                Let \(T\) be a linear transformation from \(\mathbb{R}2 \mapsto \mathbb{R}2\)
                which is a projection and suppose that
                \begin{equation*}T \left(\begin{array}{r}
                    3 \\
                    1
                    \end{array}\right) = \left(\begin{array}{r}
                    1 \\
                    2
                    \end{array}\right)\end{equation*}
                Find the standard matrix of \(T\) (The Projection Matrix).
            </p>
<p id="p-262">
                 [6 marks] 
            </p></article><p id="p-263">
            We will use the techniques detailed by Professor Strang in the lecture series 18.06 Linear Algebra
            <a class="external-url" href="https://ocw.mit.edu/courses/mathematics/18-06-linear-algebra-spring-2010/video-lectures/lecture-15-projections-onto-subspaces/" target="_blank">
                Lecture 15: Projections onto subspaces</a>
        </p>
<figure class="figure-like" id="figure-8"><img width="100%" src="images/strang_projection_1.png" alt=""><figcaption><span class="heading">Figure</span><span class="codenumber">5.1.2</span>Diagram Of The Problem</figcaption></figure><figure class="figure-like" id="figure-9"><img width="100%" src="images/strang_projection_2.png" alt=""><figcaption><span class="heading">Figure</span><span class="codenumber">5.1.3</span>Professor Strang In Action</figcaption></figure><figure class="figure-like" id="fig_projection_matrix"><img width="100%" src="images/strang_projection_3.png" alt=""><figcaption><span class="heading">Figure</span><span class="codenumber">5.1.4</span>Projection Matrix Formula</figcaption></figure><p id="p-264">
            In these screenshots we can see that vector \(\vec{p}\) is the projection of vector \(\vec{b}\) onto \(\vec{a}\).
        </p>
<p id="p-265">
            \(\vec{p}\) is a multiple,\(x\), of \(\vec{a}\):
            \begin{equation*}\vec{p} = x \vec{a}\end{equation*}
            The error vector \(\vec{e}\) is given by:
            \begin{equation*}\vec{e}=\vec{b}-\vec{p}\end{equation*}
            The other piece of information we require is that \(\vec{e}\) is perpendicular to \(\vec{p}\).
            In other words, the dot product of these two vectors is zero. Recall that the dot product of two vectors is
            the same as the <!--Style me with CSS--><em>transpose</em> of one with the other.</p>
<p id="p-266">
            Combining the above gives us:
        </p>\begin{equation*}\vec{a}^T (\vec{b} - x \vec{a}) = 0\end{equation*}\begin{equation*}\implies x = \frac{\vec{a}^T \vec{b}}{\vec{a}^T \vec{a}}\end{equation*}<p id="p-267">
            Since \(\vec{p} = x \vec{a}\) then:
        </p>\begin{equation}\vec{p} = \frac{\vec{a} \vec{a}^T}{\vec{a}^T \vec{a}} \vec{b}\label{men-33}\tag{5.1.1}\end{equation}<p id="p-268">
            From this we can see that the Projection Matrix, \(\textbf{P}\), is given by:
        </p>\begin{equation}\textbf{P} = \frac{\vec{a} \vec{a}^T}{\vec{a}^T \vec{a}}\label{men-34}\tag{5.1.2}\end{equation}<p id="p-269">
            This matches the formula in the screenshot shown in <a knowl="./knowl/fig_projection_matrix.html" knowl-id="xref-fig_projection_matrix" alt="Figure 5.1.4 " title="Figure 5.1.4 ">figure 5.1.4</a> above.
            In our exercise \(\textbf{P}\) becomes \(\textbf{T}\).
        </p>
<p id="p-270">
            Now lets see how we can solve this example using SageMath.
        </p>
<p id="p-271">
            One of the most annoying points is that vectors are represented as rows.
            Usually, we prefer to write them in column form.  However, we can switch the view by
            using the <tt class="code-inline tex2jax_ignore">column()</tt> method on the vector.
        </p>
<div class="sagecell-sage" id="sage-93"><script type="text/x-sage">a=vector([1,2])
b=vector([3,1])
show(a)
show("a = ", a.column())
show(b)
show("b = ", b.column())
</script></div>
<p id="p-272">
            The vector \(\vec{a}\) times the transpose of itself can be found by taking the <tt class="code-inline tex2jax_ignore">outer_product()</tt>:
        </p>
<div class="sagecell-sage" id="sage-94"><script type="text/x-sage">show(a.outer_product(a))
</script></div>
<p id="p-273">The dot product (inner product) given by \(\vec{a}^T \vec{a}\) is easily found by either of these two steps:</p>
<div class="sagecell-sage" id="sage-95"><script type="text/x-sage">show(a*a)
show(a.inner_product(a))
</script></div>
<p id="p-274">
            Combining these we get the complete solution for \(\textbf{T}\),
            what Strang calls \(\textbf{P}\) as:
        </p>
<div class="sagecell-sage" id="sage-96"><script type="text/x-sage">T=a.outer_product(a)/(a*a)
show("Projection Matrix, T = ",T)
</script></div>
<p id="p-275">
            These concepts are combined with some fancy plotting methods to give us a nice visualisation of the problem:
        </p>
<div class="sagecell-sage" id="sage-97"><script type="text/x-sage">def plot2d_vector(v,name,color='blue'):
    p=plot(v,color=color)
    delta=v*v/40
    midpoint=(v[0]/2+delta,v[1]/2+delta)
    p += text(name, midpoint,fontweight='extra bold',fontsize=14,color='black')
    return p

b=vector([3,1])
a=vector([1,2])*2
show("a = ", a.column())
show("b = ", b.column())

T=a.outer_product(a)/(a*a)
show("Projection Matrix, T = ",T)

p=T*b
show("projection, Tb = ", p.column())
e=b-p
show("error = ",e.column())

e_midpoint = ((b[0]+p[0])/2 + e*e/20, (b[1]+p[1])/2 + e*e/20)

show("Projection of b onto a:")

plt=plot2d_vector(a, "a")+plot2d_vector(b, "b")+ plot2d_vector(p,"p",color='red')+arrow(p, b, linestyle='--', color='green',aspect_ratio='1')
plt += text("e", e_midpoint,fontweight='extra bold',fontsize=14,color='black')
plt
</script></div>
<p id="p-276">
            Notice that the diagram is <!--Style me with CSS--><em>upside down</em> compared with Strang's and that we multiplied
            \(\vec{a}\) by a factor of 2 so that we could more clearly see that \(\vec{p}\) lies on the same line as \(\vec{a}\).
        </p>
<p id="p-277">Let us now check some other properties of the projection matrix \(\textbf{T}\)</p>
<div class="sagecell-sage" id="sage-98"><script type="text/x-sage">show("Is invertible = ", T.is_invertible())
show("Is symmetric = ", T.is_symmetric())
show("Is the same as its transpose = ", T.transpose() == T)
show("Is the same as its square = ", T*T == T)
</script></div></section></div></main>
</div>
</body>
</html>
